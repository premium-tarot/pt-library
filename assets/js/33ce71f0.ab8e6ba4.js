"use strict";(self.webpackChunkpt_library=self.webpackChunkpt_library||[]).push([[207],{8478:(t,e,i)=>{i.d(e,{A:()=>a});i(6540);var r=i(2303),c=i(4848);function a(t){let{children:e,fallback:i}=t;return(0,r.A)()?(0,c.jsx)(c.Fragment,{children:e?.()}):i??null}},2143:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});var r=i(6540);const c={container:"container_MRN9",itemList:"itemList_z_iv",item:"item_osEF",itemImage:"itemImage_KbiR",itemDetails:"itemDetails_AU1Z",itemName:"itemName_J0z3",itemSize:"itemSize_VKpj",itemPrice:"itemPrice_BE1n",controls:"controls_OcFZ",controlButton:"controlButton_Dvm9",removeButton:"removeButton_Pv5m",totalContainer:"totalContainer_rRo1",shipping:"shipping_iibx",checkoutButton:"checkoutButton_WgWv",skeletonItem:"skeletonItem_K4E9",pulse:"pulse_cHBt"};var a=i(9380),n=i(8478),o=i(4848);const s=()=>{const[t,e]=(0,r.useState)([]);(0,r.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("cart"))||[];e(t)}),[]);const i=(i,r)=>{const c=t.map(((t,e)=>e===i?{...t,count:t.count+r}:t));e(c)},s=()=>t.reduce(((t,e)=>{const i=a.products?.find((t=>t.name===e.product.name));if(i){if("standard"===i.category)return t+a.standard_pricing_data[e.size];if("custom"===i.category)return t+a.custom_pricing_data[i.pricing_key][e.size]}return t}),0),d=()=>{const e=`Order_ID: ${`pt_${Math.floor(1e4+9e4*Math.random())}_${(new Date).toLocaleString()}`}\n${t.map((t=>`Product: ${t.product.name}, Size: ${t.size}, Count: ${t.count}, Price: ${t.price}`)).join("\n")}\nTotal Price: ${s()}`;window.open(`https://api.whatsapp.com/send?phone=201005684094&text=${encodeURIComponent(e)}`)};return(0,o.jsx)(n.A,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>(0,o.jsxs)("div",{className:c.checkoutPage,children:[(0,o.jsx)("h2",{children:"Checkout"}),0===t.length?(0,o.jsx)("p",{children:"Your cart is empty."}):(0,o.jsx)("div",{className:c.cartItems,children:t.map(((r,a)=>(0,o.jsxs)("div",{className:c.cartItem,children:[(0,o.jsx)("img",{src:`../../static/img/products/${r.product.image}.webp`,alt:r.product.name}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:r.product.name}),(0,o.jsxs)("p",{children:["Size: ",r.size]}),(0,o.jsxs)("p",{children:["Price: $",r.price]}),(0,o.jsxs)("div",{className:c.quantityControls,children:[(0,o.jsx)("button",{onClick:()=>i(a,-1),disabled:1===r.count,children:"-"}),(0,o.jsx)("span",{children:r.count}),(0,o.jsx)("button",{onClick:()=>i(a,1),children:"+"})]}),(0,o.jsx)("button",{className:c.removeButton,onClick:()=>(i=>{const r=t.filter(((t,e)=>e!==i));e(r)})(a),children:"Remove"})]})]},a)))}),(0,o.jsxs)("div",{className:c.totalPrice,children:["Total: $",s()]}),(0,o.jsx)("button",{className:c.completeOrderButton,onClick:d,children:"Complete Order"})]})})}},9380:t=>{t.exports=JSON.parse('{"standard_pricing_data":{"Mini":5,"Medium":10,"Large":20,"Giant":50},"custom_pricing_data":{"special_product_1":{"Mini":8,"Medium":15,"Large":30,"Giant":60},"special_product_2":{"Medium":20,"Large":40}},"products":[{"name":"Standard Product 1","category":"standard","image":"tarot_id_1","description":"A standard tarot product"},{"name":"Standard Product 2","category":"standard","image":"tarot_id_2","description":"Another standard tarot product"},{"name":"Special Product 1","category":"custom","pricing_key":"special_product_1","image":"tarot_id_3","description":"A specialized tarot product"},{"name":"Special Product 2","category":"custom","pricing_key":"special_product_2","image":"tarot_id_4","description":"Another specialized tarot product"}]}')}}]);